<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NameScript ‚Äî Your Name, Every Language</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,700;1,300;1,700&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #080810;
    --surface: #10101c;
    --border: #22223a;
    --accent: #d4a94a;
    --accent2: #8b6dfa;
    --text: #ede9e0;
    --muted: #5a5875;
  }
  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 44px 20px 100px;
    overflow-x: hidden;
  }

  body::before {
    content:'';
    position:fixed; inset:0;
    background: radial-gradient(ellipse 80% 60% at 50% -10%, rgba(139,109,250,0.08) 0%, transparent 70%);
    pointer-events:none; z-index:0;
  }

  header {
    text-align: center;
    margin-bottom: 48px;
    position: relative; z-index:1;
    animation: fadeUp 0.7s ease both;
  }

  @keyframes fadeUp {
    from { opacity:0; transform:translateY(20px); }
    to   { opacity:1; transform:translateY(0); }
  }

  .logo {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(3rem, 7vw, 5.5rem);
    font-weight: 300;
    letter-spacing: -1px;
    color: var(--text);
    line-height: 1;
  }
  .logo em { font-style: italic; color: var(--accent); }

  .tagline {
    font-size: 0.65rem;
    color: var(--muted);
    letter-spacing: 5px;
    text-transform: uppercase;
    margin-top: 12px;
  }

  .input-section {
    width: 100%;
    max-width: 580px;
    position: relative; z-index:1;
    margin-bottom: 14px;
    animation: fadeUp 0.7s 0.1s ease both;
  }

  .input-wrap {
    display: flex;
    border: 1px solid var(--border);
    border-radius: 3px;
    overflow: hidden;
    background: var(--surface);
    transition: border-color 0.2s, box-shadow 0.2s;
  }
  .input-wrap:focus-within {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(212,169,74,0.1);
  }

  input[type="text"] {
    flex:1;
    background: transparent;
    border: none; outline: none;
    color: var(--text);
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.55rem;
    font-weight: 300;
    padding: 18px 22px;
    letter-spacing: 1px;
  }
  input::placeholder { color: var(--muted); font-style: italic; }

  .btn-convert {
    background: var(--accent);
    color: #080810;
    border: none;
    padding: 18px 28px;
    font-family: 'DM Mono', monospace;
    font-size: 0.68rem;
    font-weight: 500;
    letter-spacing: 3px;
    text-transform: uppercase;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
    white-space: nowrap;
  }
  .btn-convert:hover { background: #e8c46a; }
  .btn-convert:active { transform: scale(0.97); }

  .style-picker {
    display: flex;
    gap: 8px;
    justify-content: center;
    flex-wrap: wrap;
    max-width: 580px;
    width: 100%;
    margin-bottom: 40px;
    position: relative; z-index:1;
    animation: fadeUp 0.7s 0.15s ease both;
  }

  .style-btn {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--muted);
    font-family: 'DM Mono', monospace;
    font-size: 0.6rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 6px 14px;
    border-radius: 2px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .style-btn:hover { border-color: var(--accent); color: var(--accent); }
  .style-btn.active { background: var(--accent); color: #080810; border-color: var(--accent); }

  .poster-wrap {
    position: relative; z-index:1;
    margin-bottom: 24px;
    display: none;
    flex-direction: column;
    align-items: center;
    animation: fadeUp 0.5s ease both;
  }
  .poster-wrap.show { display: flex; }

  #nameCanvas {
    border-radius: 4px;
    max-width: min(900px, 100%);
    height: auto;
    box-shadow: 0 30px 80px rgba(0,0,0,0.7), 0 0 0 1px rgba(255,255,255,0.04);
  }

  .poster-actions {
    display: flex;
    gap: 10px;
    margin-top: 16px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .btn-dl {
    background: var(--accent2);
    color: #fff;
    border: none;
    padding: 12px 28px;
    font-family: 'DM Mono', monospace;
    font-size: 0.68rem;
    font-weight: 500;
    letter-spacing: 3px;
    text-transform: uppercase;
    cursor: pointer;
    border-radius: 3px;
    transition: background 0.2s, transform 0.1s;
  }
  .btn-dl:hover { background: #a08fff; }
  .btn-dl:active { transform: scale(0.97); }

  .btn-regen {
    background: transparent;
    color: var(--muted);
    border: 1px solid var(--border);
    padding: 12px 22px;
    font-family: 'DM Mono', monospace;
    font-size: 0.68rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    cursor: pointer;
    border-radius: 3px;
    transition: all 0.2s;
  }
  .btn-regen:hover { border-color: var(--muted); color: var(--text); }

  .loading-bar {
    width: 100%; max-width: 580px;
    height: 2px;
    background: var(--border);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 40px;
    display: none;
    position: relative; z-index:1;
  }
  .loading-bar.active { display: block; }
  .loading-bar::after {
    content:'';
    position: absolute;
    left: -40%; width: 40%; height: 100%;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    animation: slide 0.9s infinite;
  }
  @keyframes slide { to { left:140%; } }

  .results-grid {
    width: 100%; max-width: 960px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 14px;
    position: relative; z-index:1;
  }

  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 3px;
    padding: 20px 22px;
    opacity: 0;
    transform: translateY(16px);
    transition: opacity 0.35s, transform 0.35s, border-color 0.2s;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }
  .card.visible { opacity:1; transform:translateY(0); }
  .card:hover { border-color: var(--accent2); }
  .card::after { content:'copy'; position:absolute; top:10px; right:14px; font-size:0.58rem; letter-spacing:2px; text-transform:uppercase; color:var(--muted); opacity:0; transition:opacity 0.2s; }
  .card:hover::after { opacity:1; }
  .card.copied::after { content:'copied!'; color:var(--accent); opacity:1; }

  .lang-label { font-size:0.62rem; letter-spacing:3px; text-transform:uppercase; color:var(--muted); margin-bottom:8px; }
  .translated-name { font-family:'Cormorant Garamond',serif; font-size:1.7rem; font-weight:700; color:var(--text); line-height:1.2; word-break:break-word; }
  .romanized { font-size:0.7rem; color:var(--muted); margin-top:5px; font-style:italic; }
  .script-tag { display:inline-block; font-size:0.58rem; letter-spacing:2px; text-transform:uppercase; border:1px solid var(--border); padding:2px 7px; border-radius:2px; margin-top:10px; color:var(--muted); }

  .empty-state { text-align:center; color:var(--muted); font-size:0.75rem; letter-spacing:2px; text-transform:uppercase; padding:60px 0; grid-column:1/-1; }
  .note { font-size:0.62rem; color:var(--muted); text-align:center; margin-top:44px; letter-spacing:1px; position:relative; z-index:1; max-width:500px; line-height:1.7; }
</style>
</head>
<body>

<header>
  <div class="logo">Name<em>Script</em></div>
  <div class="tagline">Your name ¬∑ Every language ¬∑ Beautiful art</div>
</header>

<div class="input-section">
  <div class="input-wrap">
    <input type="text" id="nameInput" placeholder="Enter your name‚Ä¶" maxlength="30" autocomplete="off"/>
    <button class="btn-convert" id="convertBtn">Convert</button>
  </div>
</div>

<div class="style-picker">
  <button class="style-btn active" data-style="cosmos">‚ú¶ Cosmos</button>
  <button class="style-btn" data-style="gold">‚óà Gold Foil</button>
  <button class="style-btn" data-style="aurora">‚óâ Aurora</button>
  <button class="style-btn" data-style="ink">‚ñ£ Ink Stone</button>
  <button class="style-btn" data-style="bloom">‚úø Bloom</button>
</div>

<div class="loading-bar" id="loadingBar"></div>

<div class="poster-wrap" id="posterWrap">
  <canvas id="nameCanvas" width="900" height="520"></canvas>
  <div class="poster-actions">
    <button class="btn-dl" id="dlBtn">‚¨á Download Poster</button>
    <button class="btn-regen" id="regenBtn">‚Üª Next Style</button>
  </div>
</div>

<div class="results-grid" id="resultsGrid">
  <div class="empty-state" id="emptyState">Enter a name to see it in 24 languages and generate a poster</div>
</div>

<p class="note">Translations are phonetic/cultural equivalents. Click any card to copy. Download your poster to share anywhere.</p>

<script>
const languages = [
  {lang:"Japanese",script:"Katakana",flag:"üáØüáµ"},
  {lang:"Chinese (Mandarin)",script:"Hanzi",flag:"üá®üá≥"},
  {lang:"Arabic",script:"Arabic",flag:"üá∏üá¶"},
  {lang:"Hindi",script:"Devanagari",flag:"üáÆüá≥"},
  {lang:"Korean",script:"Hangul",flag:"üá∞üá∑"},
  {lang:"Russian",script:"Cyrillic",flag:"üá∑üá∫"},
  {lang:"Greek",script:"Greek",flag:"üá¨üá∑"},
  {lang:"Hebrew",script:"Hebrew",flag:"üáÆüá±"},
  {lang:"Thai",script:"Thai",flag:"üáπüá≠"},
  {lang:"Bengali",script:"Bengali",flag:"üáßüá©"},
  {lang:"Tamil",script:"Tamil",flag:"üáÆüá≥"},
  {lang:"Telugu",script:"Telugu",flag:"üáÆüá≥"},
  {lang:"Amharic",script:"Ethiopic",flag:"üá™üáπ"},
  {lang:"Georgian",script:"Mkhedruli",flag:"üá¨üá™"},
  {lang:"Armenian",script:"Armenian",flag:"üá¶üá≤"},
  {lang:"Gujarati",script:"Gujarati",flag:"üáÆüá≥"},
  {lang:"Punjabi",script:"Gurmukhi",flag:"üáÆüá≥"},
  {lang:"Khmer",script:"Khmer",flag:"üá∞üá≠"},
  {lang:"Mongolian",script:"Cyrillic",flag:"üá≤üá≥"},
  {lang:"Sinhala",script:"Sinhala",flag:"üá±üá∞"},
  {lang:"Burmese",script:"Myanmar",flag:"üá≤üá≤"},
  {lang:"Tibetan",script:"Tibetan",flag:"üèîÔ∏è"},
  {lang:"Ukrainian",script:"Cyrillic",flag:"üá∫üá¶"},
  {lang:"Serbian",script:"Cyrillic",flag:"üá∑üá∏"},
];

const knownNames = {
  "alex":    {"Japanese":{t:"„Ç¢„É¨„ÉÉ„ÇØ„Çπ",r:"Arekkusu"},"Chinese (Mandarin)":{t:"‰∫öÂéÜÂÖãÊñØ",r:"Y√†l√¨k√®sƒ´"},"Arabic":{t:"ÿ£ŸÑŸäŸÉÿ≥",r:"Aliks"},"Hindi":{t:"‡§è‡§≤‡•á‡§ï‡•ç‡§∏",r:"Eleks"},"Korean":{t:"ÏïåÎ†âÏä§",r:"Allekseu"},"Russian":{t:"–ê–ª–µ–∫—Å",r:"Aleks"},"Greek":{t:"ŒëŒªŒ≠Œæ",r:"Al√©x"},"Hebrew":{t:"◊ê◊ú◊õ◊°",r:"Alex"},"Thai":{t:"‡∏≠‡πÄ‡∏•‡πá‡∏Å‡∏ã‡πå",r:"Alek"},"Bengali":{t:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶ï‡ßç‡¶∏",r:"Ayaleksa"}},
  "john":    {"Japanese":{t:"„Ç∏„Éß„É≥",r:"Jon"},"Chinese (Mandarin)":{t:"Á∫¶Áø∞",r:"Yuƒìh√†n"},"Arabic":{t:"ŸäŸàÿ≠ŸÜÿß",r:"Y≈´·∏•annƒÅ"},"Hindi":{t:"‡§ú‡•â‡§®",r:"Jon"},"Korean":{t:"Ï°¥",r:"Jon"},"Russian":{t:"–ò–≤–∞–Ω",r:"Ivan"},"Greek":{t:"ŒôœâŒ¨ŒΩŒΩŒ∑œÇ",r:"I≈ç√°nnƒìs"},"Hebrew":{t:"◊ô◊ï◊ó◊†◊ü",r:"Yochanan"},"Thai":{t:"‡∏à‡∏≠‡∏´‡πå‡∏ô",r:"Jawn"},"Bengali":{t:"‡¶ú‡¶®",r:"Jana"}},
  "sarah":   {"Japanese":{t:"„Çµ„É©",r:"Sara"},"Chinese (Mandarin)":{t:"ËééÊãâ",r:"ShƒÅlƒÅ"},"Arabic":{t:"ÿ≥ÿßÿ±ÿ©",r:"SƒÅra"},"Hindi":{t:"‡§∏‡§æ‡§∞‡§æ",r:"SƒÅrƒÅ"},"Korean":{t:"ÏÇ¨Îùº",r:"Sara"},"Russian":{t:"–°–∞—Ä–∞",r:"Sara"},"Greek":{t:"Œ£Œ¨œÅŒ±",r:"S√°ra"},"Hebrew":{t:"◊©÷∏◊Ç◊®÷∏◊î",r:"≈öƒÅrƒÅh"},"Thai":{t:"‡∏ã‡∏≤‡∏£‡πà‡∏≤",r:"SƒÅrƒÅ"},"Bengali":{t:"‡¶∏‡¶æ‡¶∞‡¶æ",r:"SƒÅrƒÅ"}},
  "maria":   {"Japanese":{t:"„Éû„É™„Ç¢",r:"Maria"},"Chinese (Mandarin)":{t:"Áéõ‰∏Ω‰∫ö",r:"M«él√¨y√†"},"Arabic":{t:"ŸÖÿ±ŸäŸÖ",r:"Maryam"},"Hindi":{t:"‡§Æ‡§æ‡§∞‡§ø‡§Ø‡§æ",r:"MƒÅriƒÅ"},"Korean":{t:"ÎßàÎ¶¨ÏïÑ",r:"Maria"},"Russian":{t:"–ú–∞—Ä–∏—è",r:"Mariya"},"Greek":{t:"ŒúŒ±œÅŒØŒ±",r:"Mar√≠a"},"Hebrew":{t:"◊û÷¥◊®÷∞◊ô÷∏◊ù",r:"Miryam"},"Thai":{t:"‡∏°‡∏≤‡πÄ‡∏£‡∏µ‡∏¢",r:"MƒÅrƒ´a"},"Bengali":{t:"‡¶Æ‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ",r:"MƒÅriyƒÅ"}},
  "david":   {"Japanese":{t:"„ÉÄ„Éì„Éá",r:"Dabide"},"Chinese (Mandarin)":{t:"Â§ßÂç´",r:"D√†w√®i"},"Arabic":{t:"ÿØÿßŸàÿØ",r:"DƒÅw≈´d"},"Hindi":{t:"‡§¶‡§æ‡§ä‡§¶",r:"DƒÅ≈´d"},"Korean":{t:"Îã§Ïúó",r:"Dawit"},"Russian":{t:"–î–∞–≤–∏–¥",r:"David"},"Greek":{t:"ŒîŒ±Œ≤ŒØŒ¥",r:"Dav√≠d"},"Hebrew":{t:"◊ì÷∏÷º◊ï÷¥◊ì",r:"DƒÅwƒ´d"},"Thai":{t:"‡∏î‡∏≤‡∏ß‡∏¥‡∏î",r:"DƒÅwid"},"Bengali":{t:"‡¶¶‡¶æ‡¶â‡¶¶",r:"DƒÅuda"}},
  "michael": {"Japanese":{t:"„Éû„Ç§„Ç±„É´",r:"Maikeru"},"Chinese (Mandarin)":{t:"ËøàÂÖãÂ∞î",r:"M√†ik√®'ƒõr"},"Arabic":{t:"ŸÖŸäÿÆÿßÿ¶ŸäŸÑ",r:"Mƒ´khƒÅ æƒ´l"},"Hindi":{t:"‡§Æ‡§æ‡§á‡§ï‡§≤",r:"MƒÅikal"},"Korean":{t:"ÎßàÏù¥ÌÅ¥",r:"Maikeul"},"Russian":{t:"–ú–∏—Ö–∞–∏–ª",r:"Mikhail"},"Greek":{t:"ŒúŒπœáŒ±ŒÆŒª",r:"Micha√≠l"},"Hebrew":{t:"◊û÷¥◊ô◊õ÷∏◊ê÷µ◊ú",r:"M√ÆkhƒÅ æƒìl"},"Thai":{t:"‡πÑ‡∏°‡πÄ‡∏Ñ‡∏¥‡∏•",r:"MƒÅikheƒ´l"},"Bengali":{t:"‡¶Æ‡¶æ‡¶á‡¶ï‡ßá‡¶≤",r:"MƒÅikela"}},
  "emma":    {"Japanese":{t:"„Ç®„Éû",r:"Ema"},"Chinese (Mandarin)":{t:"ËâæÁéõ",r:"√Äim«é"},"Arabic":{t:"ÿ•ŸäŸÖÿß",r:"ƒ™mƒÅ"},"Hindi":{t:"‡§è‡§Æ‡•ç‡§Æ‡§æ",r:"EmmƒÅ"},"Korean":{t:"ÏóêÎßà",r:"Ema"},"Russian":{t:"–≠–º–º–∞",r:"Emma"},"Greek":{t:"ŒàŒºŒºŒ±",r:"√âmma"},"Hebrew":{t:"◊ê◊û◊î",r:"Ama"},"Thai":{t:"‡πÄ‡∏≠‡πá‡∏°‡∏°‡∏≤",r:"Emma"},"Bengali":{t:"‡¶è‡¶Æ‡¶æ",r:"EmƒÅ"}},
  "sofia":   {"Japanese":{t:"„ÇΩ„Éï„Ç£„Ç¢",r:"Sofia"},"Chinese (Mandarin)":{t:"Á¥¢Ëè≤‰∫ö",r:"Su«ífƒìiy√†"},"Arabic":{t:"ÿµŸàŸÅŸäÿß",r:"·π¢≈´fiyƒÅ"},"Hindi":{t:"‡§∏‡•ã‡§´‡§ø‡§Ø‡§æ",r:"SophiyƒÅ"},"Korean":{t:"ÏÜåÌîºÏïÑ",r:"Sophia"},"Russian":{t:"–°–æ—Ñ–∏—è",r:"Sofiya"},"Greek":{t:"Œ£ŒøœÜŒØŒ±",r:"Soph√≠a"},"Hebrew":{t:"◊°◊ï◊§◊ô◊î",r:"Sofia"},"Thai":{t:"‡πÇ‡∏ã‡πÄ‡∏ü‡∏µ‡∏¢",r:"S≈çfƒ´a"},"Bengali":{t:"‡¶∏‡ßã‡¶´‡¶ø‡¶Ø‡¶º‡¶æ",r:"S≈çphiyƒÅ"}},
  "lucas":   {"Japanese":{t:"„É´„Éº„Ç´„Çπ",r:"R≈´kasu"},"Chinese (Mandarin)":{t:"Âç¢Âç°ÊñØ",r:"L√∫k«ésƒ´"},"Arabic":{t:"ŸÑŸàŸÇÿß",r:"L≈´qƒÅ"},"Hindi":{t:"‡§≤‡•Å‡§ï‡§æ‡§∏",r:"LukƒÅs"},"Korean":{t:"Î£®Ïπ¥Ïä§",r:"Rukaseu"},"Russian":{t:"–õ—É–∫–∞—Å",r:"Lukas"},"Greek":{t:"ŒõŒøœÖŒ∫Œ¨œÇ",r:"Louk√°s"},"Hebrew":{t:"◊ú◊ï÷º◊ß÷∏◊°",r:"L≈´qƒÅs"},"Thai":{t:"‡∏•‡∏π‡∏Å‡∏±‡∏™",r:"L≈´kas"},"Bengali":{t:"‡¶≤‡ßÅ‡¶ï‡¶æ‡¶∏",r:"LukƒÅsa"}},
  "olivia":  {"Japanese":{t:"„Ç™„É™„Éì„Ç¢",r:"Oribia"},"Chinese (Mandarin)":{t:"Â••Âà©Áª¥‰∫ö",r:"√Äol√¨w√©iy√†"},"Arabic":{t:"ÿ£ŸàŸÑŸäŸÅŸäÿß",r:"Awlƒ´fiyƒÅ"},"Hindi":{t:"‡§ì‡§≤‡§ø‡§µ‡§ø‡§Ø‡§æ",r:"OliviyƒÅ"},"Korean":{t:"Ïò¨Î¶¨ÎπÑÏïÑ",r:"Ollibia"},"Russian":{t:"–û–ª–∏–≤–∏—è",r:"Oliviya"},"Greek":{t:"ŒüŒªŒØŒ≤ŒπŒ±",r:"Ol√≠via"},"Hebrew":{t:"◊ê◊ï◊ú◊ô◊ë◊ô◊î",r:"Olivia"},"Thai":{t:"‡πÇ‡∏≠‡∏•‡∏¥‡πÄ‡∏ß‡∏µ‡∏¢",r:"≈åliwƒ´a"},"Bengali":{t:"‡¶Ö‡¶≤‡¶ø‡¶≠‡¶ø‡¶Ø‡¶º‡¶æ",r:"AlibhiyƒÅ"}},
};

function phoneticTranslit(name, lang) {
  const n = name.toLowerCase().trim();
  const maps = {
    "Russian":{a:"–∞",b:"–±",c:"—Å",d:"–¥",e:"–µ",f:"—Ñ",g:"–≥",h:"—Ö",i:"–∏",j:"–¥–∂",k:"–∫",l:"–ª",m:"–º",n:"–Ω",o:"–æ",p:"–ø",q:"–∫",r:"—Ä",s:"—Å",t:"—Ç",u:"—É",v:"–≤",w:"–≤",x:"–∫—Å",y:"–π",z:"–∑"},
    "Greek":{a:"Œ±",b:"Œ≤",c:"Œ∫",d:"Œ¥",e:"Œµ",f:"œÜ",g:"Œ≥",h:"œá",i:"Œπ",j:"œÑŒ∂",k:"Œ∫",l:"Œª",m:"Œº",n:"ŒΩ",o:"Œø",p:"œÄ",q:"Œ∫",r:"œÅ",s:"œÉ",t:"œÑ",u:"œÖ",v:"Œ≤",w:"ŒøœÖ",x:"Œæ",y:"œÖ",z:"Œ∂"},
    "Hindi":{a:"‡§Ö",b:"‡§¨",c:"‡§ï",d:"‡§¶",e:"‡§è",f:"‡§´",g:"‡§ó",h:"‡§π",i:"‡§á",j:"‡§ú",k:"‡§ï",l:"‡§≤",m:"‡§Æ",n:"‡§®",o:"‡§ì",p:"‡§™",q:"‡§ï",r:"‡§∞",s:"‡§∏",t:"‡§§",u:"‡§â",v:"‡§µ",w:"‡§µ",x:"‡§ï‡•ç‡§∏",y:"‡§Ø",z:"‡§ú‡§º"},
    "Korean":{a:"ÏïÑ",b:"Î∏å",c:"ÌÅ¨",d:"Îìú",e:"Ïóê",f:"ÌîÑ",g:"Í∑∏",h:"Ìùê",i:"Ïù¥",j:"Ï£º",k:"ÌÅ¨",l:"Î•¥",m:"ÎØÄ",n:"Îäê",o:"Ïò§",p:"ÌîÑ",q:"ÌÅ¨",r:"Î•¥",s:"Ïä§",t:"Ìä∏",u:"Ïö∞",v:"Î∏å",w:"Ïö∞",x:"ÌÅ¨Ïä§",y:"Ïù¥",z:"Ï¶à"},
    "Arabic":{a:"ÿß",b:"ÿ®",c:"ŸÉ",d:"ÿØ",e:"Ÿä",f:"ŸÅ",g:"ÿ¨",h:"Ÿá",i:"Ÿä",j:"ÿ¨",k:"ŸÉ",l:"ŸÑ",m:"ŸÖ",n:"ŸÜ",o:"Ÿà",p:"ÿ®",q:"ŸÉ",r:"ÿ±",s:"ÿ≥",t:"ÿ™",u:"Ÿà",v:"ŸÅ",w:"Ÿà",x:"ŸÉÿ≥",y:"Ÿä",z:"ÿ≤"},
    "Bengali":{a:"‡¶Ü",b:"‡¶¨",c:"‡¶ï",d:"‡¶¶",e:"‡¶è",f:"‡¶´",g:"‡¶ó",h:"‡¶π",i:"‡¶á",j:"‡¶ú",k:"‡¶ï",l:"‡¶≤",m:"‡¶Æ",n:"‡¶®",o:"‡¶ì",p:"‡¶™",q:"‡¶ï",r:"‡¶∞",s:"‡¶∏",t:"‡¶§",u:"‡¶â",v:"‡¶≠",w:"‡¶ì",x:"‡¶ï‡ßç‡¶∏",y:"‡¶Ø‡¶º",z:"‡¶ú"},
    "Tamil":{a:"‡ÆÖ",b:"‡Æ™",c:"‡Æï",d:"‡Æ§",e:"‡Æé",f:"‡Æ™",g:"‡Æï",h:"‡Æπ",i:"‡Æá",j:"‡Æú",k:"‡Æï",l:"‡Æ≤",m:"‡ÆÆ",n:"‡Æ®",o:"‡Æì",p:"‡Æ™",q:"‡Æï",r:"‡Æ∞",s:"‡Æ∏",t:"‡Æ§",u:"‡Æâ",v:"‡Æµ",w:"‡Æµ",x:"‡Æï‡Øç‡Æ∏",y:"‡ÆØ",z:"‡Æú"},
    "Telugu":{a:"‡∞Ö",b:"‡∞¨",c:"‡∞ï",d:"‡∞°",e:"‡∞é",f:"‡∞´",g:"‡∞ó",h:"‡∞π",i:"‡∞á",j:"‡∞ú",k:"‡∞ï",l:"‡∞≤",m:"‡∞Æ",n:"‡∞®",o:"‡∞ì",p:"‡∞™‡∞ø",q:"‡∞ï",r:"‡∞∞",s:"‡∞∏",t:"‡∞§",u:"‡∞â",v:"‡∞µ",w:"‡∞µ",x:"‡∞ï‡±ç‡∞∏",y:"‡∞Ø",z:"‡∞ú"},
    "Gujarati":{a:"‡™Ü",b:"‡™¨",c:"‡™ï",d:"‡™¶",e:"‡™è",f:"‡™´",g:"‡™ó",h:"‡™π",i:"‡™á",j:"‡™ú",k:"‡™ï",l:"‡™≤",m:"‡™Æ",n:"‡™®",o:"‡™ì",p:"‡™™",q:"‡™ï",r:"‡™∞",s:"‡™∏",t:"‡™§",u:"‡™â",v:"‡™µ",w:"‡™µ",x:"‡™ï‡´ç‡™∏",y:"‡™Ø",z:"‡™ù"},
    "Punjabi":{a:"‡®Ü",b:"‡®¨",c:"‡®ï",d:"‡®¶",e:"‡®è",f:"‡®´",g:"‡®ó",h:"‡®π",i:"‡®á",j:"‡®ú",k:"‡®ï",l:"‡®≤",m:"‡®Æ",n:"‡®®",o:"‡®ì",p:"‡®™",q:"‡®ï",r:"‡®∞",s:"‡®∏",t:"‡®§",u:"‡®â",v:"‡®µ",w:"‡®µ",x:"‡®ï‡®∏",y:"‡®Ø",z:"‡®ú‡®º"},
    "Ukrainian":{a:"–∞",b:"–±",c:"—Å",d:"–¥",e:"–µ",f:"—Ñ",g:"–≥",h:"–≥",i:"—ñ",j:"–¥–∂",k:"–∫",l:"–ª",m:"–º",n:"–Ω",o:"–æ",p:"–ø",q:"–∫",r:"—Ä",s:"—Å",t:"—Ç",u:"—É",v:"–≤",w:"–≤",x:"–∫—Å",y:"–π",z:"–∑"},
    "Serbian":{a:"–∞",b:"–±",c:"—Ü",d:"–¥",e:"–µ",f:"—Ñ",g:"–≥",h:"—Ö",i:"–∏",j:"—ò",k:"–∫",l:"–ª",m:"–º",n:"–Ω",o:"–æ",p:"–ø",q:"–∫",r:"—Ä",s:"—Å",t:"—Ç",u:"—É",v:"–≤",w:"–≤",x:"–∫—Å",y:"—ò",z:"–∑"},
    "Mongolian":{a:"–∞",b:"–±",c:"—Ü",d:"–¥",e:"—ç",f:"—Ñ",g:"–≥",h:"—Ö",i:"–∏",j:"–∂",k:"–∫",l:"–ª",m:"–º",n:"–Ω",o:"–æ",p:"–ø",q:"–∫",r:"—Ä",s:"—Å",t:"—Ç",u:"—É",v:"–≤",w:"–≤",x:"–∫—Å",y:"–π",z:"–∑"},
    "Amharic":{a:"·ä†",b:"·â•",c:"·ä≠",d:"·ãµ",e:"·ä§",f:"·çç",g:"·åç",h:"·àÖ",i:"·ä¢",j:"·åÖ",k:"·ä≠",l:"·àç",m:"·àù",n:"·äï",o:"·ä¶",p:"·çï",q:"·âÖ",r:"·à≠",s:"·àµ",t:"·âµ",u:"·ä°",v:"·â≠",w:"·ãç",x:"·ä≠·àµ",y:"·ã≠",z:"·ãù"},
    "Georgian":{a:"·Éê",b:"·Éë",c:"·É™",d:"·Éì",e:"·Éî",f:"·É§",g:"·Éí",h:"·É∞",i:"·Éò",j:"·ÉØ",k:"·Éô",l:"·Éö",m:"·Éõ",n:"·Éú",o:"·Éù",p:"·Éû",q:"·É•",r:"·É†",s:"·É°",t:"·É¢",u:"·É£",v:"·Éï",w:"·Éï",x:"·ÉÆ",y:"·Éß",z:"·Éñ"},
    "Armenian":{a:"‘±",b:"‘≤",c:"’ë",d:"‘¥",e:"‘∑",f:"’ñ",g:"‘≥",h:"’Ä",i:"‘ª",j:"’ã",k:"‘ø",l:"‘º",m:"’Ñ",n:"’Ü",o:"’ï",p:"’ä",q:"‘ø",r:"’å",s:"’ç",t:"’è",u:"’à÷Ç",v:"’é",w:"’é",x:"‘ø’Ω",y:"’Ö",z:"‘∂"},
    "Hebrew":{a:"◊ê",b:"◊ë",c:"◊õ",d:"◊ì",e:"◊î",f:"◊§",g:"◊í",h:"◊î",i:"◊ô",j:"◊í",k:"◊õ",l:"◊ú",m:"◊û",n:"◊†",o:"◊ï",p:"◊§",q:"◊ß",r:"◊®",s:"◊°",t:"◊™",u:"◊ï",v:"◊ï",w:"◊ï",x:"◊ß◊°",y:"◊ô",z:"◊ñ"},
    "Thai":{a:"‡∏≠‡∏≤",b:"‡∏ö",c:"‡∏Ñ",d:"‡∏î",e:"‡πÄ‡∏≠",f:"‡∏ü",g:"‡∏Å",h:"‡∏Æ",i:"‡∏≠‡∏¥",j:"‡∏à",k:"‡∏Ñ",l:"‡∏•",m:"‡∏°",n:"‡∏ô",o:"‡πÇ‡∏≠",p:"‡∏û",q:"‡∏Ñ",r:"‡∏£",s:"‡∏™",t:"‡∏ï",u:"‡∏≠‡∏∏",v:"‡∏ß",w:"‡∏ß",x:"‡∏Ñ‡∏™",y:"‡∏¢",z:"‡∏ã"},
    "Khmer":{a:"·û¢·û∂",b:"·ûî",c:"·ûÄ",d:"·ûä",e:"·û¢·üÇ",f:"·û†·üí·ûú",g:"·û†·üí·ûÇ",h:"·û†",i:"·û¢·û∏",j:"·ûÖ",k:"·ûÄ",l:"·ûõ",m:"·ûò",n:"·ûì",o:"·û¢·ûº",p:"·ûñ",q:"·ûÄ",r:"·ûö",s:"·ûü",t:"·ûè",u:"·û¢·ûº",v:"·ûú",w:"·ûú",x:"·ûÄ·üí·ûü",y:"·ûô",z:"·û†·üí·ûü"},
    "Sinhala":{a:"‡∂Ü",b:"‡∂∂",c:"‡∂ö",d:"‡∂Ø",e:"‡∂ë",f:"‡∑Ü",g:"‡∂ú",h:"‡∑Ñ",i:"‡∂â",j:"‡∂¢",k:"‡∂ö",l:"‡∂Ω",m:"‡∂∏",n:"‡∂±",o:"‡∂î",p:"‡∂¥",q:"‡∂ö",r:"‡∂ª",s:"‡∑É",t:"‡∂≠",u:"‡∂ã",v:"‡∑Ä",w:"‡∑Ä",x:"‡∂ö‡∑ä‡∑É",y:"‡∂∫",z:"‡∑É"},
    "Burmese":{a:"·Ä°·Ä¨",b:"·Äò",c:"·ÄÄ",d:"·Äí",e:"·Ä°·Ä±",f:"·Äñ",g:"·ÄÇ",h:"·Äü",i:"·Ä°·Ä≠",j:"·ÄÇ·Äª",k:"·ÄÄ",l:"·Äú",m:"·Äô",n:"·Äî",o:"·Ä°·Ä≠·ÄØ",p:"·Äï",q:"·ÄÄ",r:"·Äõ",s:"·ÄÖ",t:"·Äê",u:"·Ä°·ÄØ",v:"·Äó",w:"·Äù",x:"·ÄÄ·ÄÜ",y:"·Äö",z:"·Äá"},
    "Tibetan":{a:"‡Ω®",b:"‡Ωñ",c:"‡ΩÄ",d:"‡Ωë",e:"‡Ω®‡Ω∫",f:"‡Ωï",g:"‡ΩÇ",h:"‡Ωß",i:"‡Ω®‡Ω≤",j:"‡Ωá",k:"‡ΩÄ",l:"‡Ω£",m:"‡Ωò",n:"‡Ωì",o:"‡Ω®‡Ωº",p:"‡Ωî",q:"‡ΩÄ",r:"‡Ω¢",s:"‡Ω¶",t:"‡Ωè",u:"‡Ω®‡Ω¥",v:"‡Ωñ",w:"‡Ωù",x:"‡ΩÄ‡Ω§",y:"‡Ω°",z:"‡Ωü"},
  };
  if (maps[lang]) return n.split('').map(c=>maps[lang][c]||c).join('');
  if (lang==="Japanese") {
    const kMap={a:"„Ç¢",i:"„Ç§",u:"„Ç¶",e:"„Ç®",o:"„Ç™",ka:"„Ç´",ki:"„Ç≠",ku:"„ÇØ",ke:"„Ç±",ko:"„Ç≥",sa:"„Çµ",si:"„Ç∑",su:"„Çπ",se:"„Çª",so:"„ÇΩ",ta:"„Çø",ti:"„ÉÅ",tu:"„ÉÑ",te:"„ÉÜ",to:"„Éà",na:"„Éä",ni:"„Éã",nu:"„Éå",ne:"„Éç",no:"„Éé",ha:"„Éè",hi:"„Éí",hu:"„Éï",he:"„Éò",ho:"„Éõ",ma:"„Éû",mi:"„Éü",mu:"„É†",me:"„É°",mo:"„É¢",ya:"„É§",yu:"„É¶",yo:"„É®",ra:"„É©",ri:"„É™",ru:"„É´",re:"„É¨",ro:"„É≠",wa:"„ÉØ",n:"„É≥",b:"„Éñ",c:"„ÇØ",d:"„Éâ",f:"„Éï",g:"„Ç∞",h:"„Éï",j:"„Ç∏",k:"„ÇØ",l:"„É´",m:"„É†",p:"„Éó",q:"„ÇØ",r:"„É´",s:"„Çπ",t:"„Éà",v:"„Éñ",w:"„Ç¶",x:"„ÇØ„Çπ",y:"„É¶",z:"„Ç∫"};
    let res=''; let i=0;
    while(i<n.length){const p=n[i]+(n[i+1]||'');if(kMap[p]){res+=kMap[p];i+=2;}else if(kMap[n[i]]){res+=kMap[n[i]];i++;}else{res+=n[i];i++;}}
    return res;
  }
  if (lang==="Chinese (Mandarin)") return name;
  return n;
}

function getTranslation(name, langObj) {
  const key = name.toLowerCase().trim();
  if (knownNames[key]?.[langObj.lang]) {
    const d = knownNames[key][langObj.lang];
    return { translated: d.t, romanized: d.r };
  }
  return { translated: phoneticTranslit(name, langObj.lang), romanized: name.charAt(0).toUpperCase()+name.slice(1).toLowerCase()+" (phonetic)" };
}

/* =========================================================
   POSTER STYLES
========================================================= */
const posterStyles = {
  cosmos: {
    draw(ctx, W, H) {
      const g = ctx.createLinearGradient(0,0,W,H);
      g.addColorStop(0,'#05050f'); g.addColorStop(0.5,'#0a0520'); g.addColorStop(1,'#050515');
      ctx.fillStyle=g; ctx.fillRect(0,0,W,H);
      ctx.fillStyle='rgba(255,255,255,0.85)';
      for(let i=0;i<200;i++){
        const x=Math.random()*W,y=Math.random()*H,r=Math.random()*1.3;
        ctx.beginPath();ctx.arc(x,y,r,0,Math.PI*2);ctx.fill();
      }
      const nb=ctx.createRadialGradient(W*.5,H*.5,10,W*.5,H*.5,W*.55);
      nb.addColorStop(0,'rgba(120,80,200,0.3)');nb.addColorStop(1,'transparent');
      ctx.fillStyle=nb;ctx.fillRect(0,0,W,H);
    },
    nameColor:'#e0d0ff', glow:'rgba(160,100,255,0.7)', sub:'rgba(180,150,230,0.75)',
    accent:'#b06eff', border:'rgba(160,100,255,0.35)'
  },
  gold: {
    draw(ctx, W, H) {
      ctx.fillStyle='#0c0800';ctx.fillRect(0,0,W,H);
      ctx.strokeStyle='rgba(180,130,30,0.1)';ctx.lineWidth=1;
      for(let x=0;x<W;x+=40){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,H);ctx.stroke();}
      for(let y=0;y<H;y+=40){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(W,y);ctx.stroke();}
      const v=ctx.createRadialGradient(W/2,H/2,H*.15,W/2,H/2,H*.85);
      v.addColorStop(0,'rgba(30,20,0,0)');v.addColorStop(1,'rgba(0,0,0,0.8)');
      ctx.fillStyle=v;ctx.fillRect(0,0,W,H);
    },
    nameColor:'#f5d87a', glow:'rgba(210,170,40,0.75)', sub:'rgba(200,160,70,0.75)',
    accent:'#d4a94a', border:'rgba(200,160,40,0.4)'
  },
  aurora: {
    draw(ctx, W, H) {
      ctx.fillStyle='#030a10';ctx.fillRect(0,0,W,H);
      [['rgba(0,200,120,0.15)',0.1],['rgba(0,160,220,0.18)',0.25],['rgba(120,0,200,0.12)',0.4],['rgba(0,220,180,0.12)',0.55]].forEach(([c,t])=>{
        const g=ctx.createLinearGradient(0,H*t,W,H*(t+0.25));
        g.addColorStop(0,'transparent');g.addColorStop(0.5,c);g.addColorStop(1,'transparent');
        ctx.fillStyle=g;ctx.fillRect(0,0,W,H);
      });
      ctx.fillStyle='rgba(255,255,255,0.6)';
      for(let i=0;i<100;i++){const x=Math.random()*W,y=Math.random()*H*.45,r=Math.random()*.9;ctx.beginPath();ctx.arc(x,y,r,0,Math.PI*2);ctx.fill();}
    },
    nameColor:'#90ffe0', glow:'rgba(0,220,150,0.6)', sub:'rgba(80,220,190,0.75)',
    accent:'#00e8a8', border:'rgba(0,200,150,0.35)'
  },
  ink: {
    draw(ctx, W, H) {
      ctx.fillStyle='#f4efe4';ctx.fillRect(0,0,W,H);
      for(let i=0;i<4000;i++){
        ctx.fillStyle=`rgba(80,60,40,${Math.random()*0.025})`;
        ctx.fillRect(Math.random()*W,Math.random()*H,1,1);
      }
      const v=ctx.createRadialGradient(W/2,H/2,H*.2,W/2,H/2,H*.85);
      v.addColorStop(0,'rgba(200,185,160,0)');v.addColorStop(1,'rgba(150,130,100,0.2)');
      ctx.fillStyle=v;ctx.fillRect(0,0,W,H);
    },
    nameColor:'#1a0c04', glow:'rgba(50,25,5,0.4)', sub:'rgba(70,45,25,0.8)',
    accent:'#8b3a0a', border:'rgba(50,35,15,0.25)'
  },
  bloom: {
    draw(ctx, W, H) {
      const g=ctx.createLinearGradient(0,0,W,H);
      g.addColorStop(0,'#180420');g.addColorStop(0.5,'#220830');g.addColorStop(1,'#140318');
      ctx.fillStyle=g;ctx.fillRect(0,0,W,H);
      [{x:W*.2,y:H*.3,c:'rgba(255,90,150,0.18)'},{x:W*.8,y:H*.2,c:'rgba(200,70,210,0.14)'},{x:W*.5,y:H*.75,c:'rgba(255,140,90,0.12)'},{x:W*.75,y:H*.8,c:'rgba(140,90,255,0.14)'}].forEach(p=>{
        const r=ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,W*.45);
        r.addColorStop(0,p.c);r.addColorStop(1,'transparent');
        ctx.fillStyle=r;ctx.fillRect(0,0,W,H);
      });
    },
    nameColor:'#ffc8e4', glow:'rgba(255,110,180,0.6)', sub:'rgba(220,150,200,0.75)',
    accent:'#ff70b8', border:'rgba(255,90,160,0.35)'
  }
};

let currentStyle='cosmos', currentName='', lastTranslations=[];

function drawCornerOrnament(ctx, cx, cy, sx, sy, color) {
  ctx.save();
  ctx.strokeStyle=color; ctx.lineWidth=1.5;
  ctx.beginPath(); ctx.moveTo(cx,cy); ctx.lineTo(cx+sx*22,cy); ctx.stroke();
  ctx.beginPath(); ctx.moveTo(cx,cy); ctx.lineTo(cx,cy+sy*22); ctx.stroke();
  ctx.restore();
}

function drawPoster(name, translations) {
  const canvas = document.getElementById('nameCanvas');
  const ctx = canvas.getContext('2d');
  const W=900, H=520;
  canvas.width=W; canvas.height=H;

  const st = posterStyles[currentStyle];

  // Draw BG
  st.draw(ctx, W, H);

  // Outer frames
  ctx.strokeStyle=st.border; ctx.lineWidth=1;
  ctx.strokeRect(22,22,W-44,H-44);
  ctx.strokeRect(28,28,W-56,H-56);

  // Corner ornaments
  drawCornerOrnament(ctx,32,32,1,1,st.accent);
  drawCornerOrnament(ctx,W-32,32,-1,1,st.accent);
  drawCornerOrnament(ctx,32,H-32,1,-1,st.accent);
  drawCornerOrnament(ctx,W-32,H-32,-1,-1,st.accent);

  // Main name
  const displayName = name.charAt(0).toUpperCase()+name.slice(1).toLowerCase();
  const fontSize = Math.min(128, Math.max(56, Math.floor(820/displayName.length)));
  ctx.save();
  ctx.textAlign='center'; ctx.textBaseline='middle';
  ctx.shadowColor=st.glow; ctx.shadowBlur=50;
  ctx.font=`300 ${fontSize}px 'Cormorant Garamond', Georgia, serif`;
  ctx.fillStyle=st.nameColor;
  ctx.fillText(displayName, W/2, H*0.37);
  ctx.shadowBlur=24;
  ctx.fillText(displayName, W/2, H*0.37);
  ctx.restore();

  // Decorative divider
  ctx.save();
  const lg=ctx.createLinearGradient(W*.15,0,W*.85,0);
  lg.addColorStop(0,'transparent'); lg.addColorStop(0.5,st.accent); lg.addColorStop(1,'transparent');
  ctx.strokeStyle=lg; ctx.lineWidth=1;
  ctx.beginPath(); ctx.moveTo(W*.15,H*.585); ctx.lineTo(W*.85,H*.585); ctx.stroke();
  // Diamond
  ctx.fillStyle=st.accent;
  ctx.translate(W/2, H*.585); ctx.rotate(Math.PI/4);
  ctx.fillRect(-3.5,-3.5,7,7);
  ctx.restore();

  // Translation samples ‚Äî 2 rows of 4
  const picks = translations.slice(0,8);
  const marginX=60, rowH=55;
  const colW=(W-marginX*2)/4;

  picks.forEach((item,i)=>{
    const col=i%4, row=Math.floor(i/4);
    const cx=marginX+col*colW+colW/2;
    const cy=H*0.67+row*rowH;

    ctx.save();
    ctx.textAlign='center'; ctx.textBaseline='middle';
    ctx.shadowColor=st.glow; ctx.shadowBlur=8;
    ctx.font=`400 21px 'Cormorant Garamond', Georgia, serif`;
    ctx.fillStyle=st.sub;
    ctx.fillText(item.translated, cx, cy);
    ctx.restore();

    ctx.save();
    ctx.textAlign='center'; ctx.textBaseline='top';
    ctx.font=`300 8px 'DM Mono', monospace`;
    ctx.fillStyle=st.border.replace('0.35','0.6').replace('0.4','0.6');
    ctx.letterSpacing='2px';
    ctx.fillText(item.lang.toUpperCase(), cx, cy+14);
    ctx.restore();
  });

  // Watermark
  ctx.save();
  ctx.textAlign='center'; ctx.textBaseline='bottom';
  ctx.font=`300 9px 'DM Mono', monospace`;
  ctx.fillStyle=st.border.replace('0.35','0.45').replace('0.4','0.45');
  ctx.fillText('NAMESCRIPT', W/2, H-34);
  ctx.restore();
}

/* =========================================================
   UI
========================================================= */
document.querySelectorAll('.style-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.style-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    currentStyle=btn.dataset.style;
    if(currentName&&lastTranslations.length) drawPoster(currentName,lastTranslations);
  });
});

function convertName() {
  const name = document.getElementById('nameInput').value.trim();
  if(!name) return;
  currentName=name;
  const grid=document.getElementById('resultsGrid');
  const loader=document.getElementById('loadingBar');
  const posterWrap=document.getElementById('posterWrap');
  grid.innerHTML='';
  posterWrap.classList.remove('show');
  loader.classList.add('active');

  setTimeout(()=>{
    loader.classList.remove('active');
    lastTranslations=languages.map(l=>{
      const {translated,romanized}=getTranslation(name,l);
      return {...l,translated,romanized};
    });
    drawPoster(name,lastTranslations);
    posterWrap.classList.add('show');

    lastTranslations.forEach((item,i)=>{
      const card=document.createElement('div');
      card.className='card';
      card.innerHTML=`<div class="lang-label">${item.flag} ${item.lang}</div><div class="translated-name">${item.translated}</div><div class="romanized">${item.romanized}</div><div class="script-tag">${item.script}</div>`;
      card.addEventListener('click',()=>{
        navigator.clipboard.writeText(item.translated).catch(()=>{});
        card.classList.add('copied');
        setTimeout(()=>card.classList.remove('copied'),1500);
      });
      grid.appendChild(card);
      setTimeout(()=>card.classList.add('visible'),40+i*25);
    });
  },700);
}

document.getElementById('convertBtn').addEventListener('click',convertName);
document.getElementById('nameInput').addEventListener('keydown',e=>{if(e.key==='Enter')convertName();});

document.getElementById('dlBtn').addEventListener('click',()=>{
  const canvas=document.getElementById('nameCanvas');
  const link=document.createElement('a');
  link.download=`${currentName||'name'}-namescript.png`;
  link.href=canvas.toDataURL('image/png');
  link.click();
});

document.getElementById('regenBtn').addEventListener('click',()=>{
  const keys=Object.keys(posterStyles);
  const next=keys[(keys.indexOf(currentStyle)+1)%keys.length];
  document.querySelectorAll('.style-btn').forEach(b=>b.classList.toggle('active',b.dataset.style===next));
  currentStyle=next;
  if(currentName&&lastTranslations.length) drawPoster(currentName,lastTranslations);
});
</script>
</body>
</html>
